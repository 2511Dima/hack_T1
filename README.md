# T1 Hackaton

# Самое легкое решение на хакатоне!

## ТЕМА - Оптимизация размещения клиник в городе Северск
Команда: Suetolog      
Состав: Гордиенко Дмитрий

### Описание задачи:
Основная задача является разспределением клиентов по разным клиникам в городе, чтобы минимизировать время пути от дома до клиники
На вход даются координаты клиентов и на выход нужно получить координаты 250 клиник, которые оптимально расположены в городе

Существуют внутринние **метрики** для оценки качества решения:
1) Суммарное время в пути для всех клиентов (Total Travel Time)
2) Перегрузка клиник (Clinics Overload)
3) Средняя оценка удобности расположения (Location Convenience Score)


#### В предложенном датасете существуют **фичи**:

Фича №1: Количество жителей района вокруг потенциального места расположения клиники (density_area)

Фича №2: Удаленность от существующих клиник (clinick_distance)

Фича №3: Возрастная структура населения (client_age)

Фича №4: Расстояние до ближайшего парка или зелёной зоны (park_distance)

Фича №5: Концентрация социально уязвимых групп (vulnerable_group_density)

Фича №6: Социальная инфраструктура (social_infrastructure_rating)


Каждая фича способна изменить расположение клиники и влияет на результат



### Решение:

Лично было трудно понять с чего стоит начать и за что зацепиться, но решил пойти с самого начала и самым простым методом K-средних расположить клиники и потом немного попровлять их местоположение.

Решение выходит Алгеброическое, но есть возомжность решить задачу путем создания модели

Свежий взгляд на данные:

<img width="618" height="478" alt="Снимок экрана 2025-12-22 в 23 12 20" src="https://github.com/user-attachments/assets/2770405b-8de5-45ce-be55-e6cd0499a1d9" />

После выполнения кластеризации приступил к вычисление центроид для каждого кластера, для наглядности вывел в координатах:
<img width="600" height="479" alt="Снимок экрана 2025-12-22 в 23 13 50" src="https://github.com/user-attachments/assets/611d7c8f-681c-425d-943e-b494662da31c" />

Таким образом получил свой самый первый и легкий результат! Решил не останавливаться, сохранил файл и приступил к реализации метрик для оценки результата.

Осуществим метрики и получил: 
1) Суммарное время в пути для всех клиентов (Total Travel Time)
2) Перегрузка клиник (Clinics Overload)
3) Средняя оценка удобности расположения (Location Convenience Score)

### **Первые результаты** по метрикам вышли:
TTT - 2374.98
CO - 0
LCS - 42.393325

Total score - 2328

Leaderbord - 3d place

### Этап 2
На следующий день решил улучшать решение. 
Первым шагом было изменение обычного k-среднего на медианы, чтобы избежать выброски данных. (mediana_same_ttt.ipynb)

Вторая мысль - разделение данных на 2 больших кластера(можно их заметить на карте), а после использовать метод kmeans вручную. (two_clasters_2356.ipynb)

Дополнения звучат хорошо и можно подумать, что они принесли небольшой успех, но нет. Улучшения не дали никаких улучшений и пришлось оставить как было раньше, чтобы не усложнять код

Далее поразмышляв я заметил, что итоговая оценка у меня меняется, при каждом прогоне кода выходит новый результат. Просмотрев код я понял, что не указал random_state в методе kmeans.

И вот тут пришла новая идея:
 - если оценка у решения получается каждый раз разная и я могу указать определеный "сид" в random_state, то я могу попробовать несколько вариантов с разным random_state:
 - следовательно можно перебрать несколько сидов и получать разный результат, а после выбрать самый лучший из существующих. Так появился файл broutforcer.ipynb. Я поставил цикл на 7 часов ночью и утром посмотрел что вышло.
Результат от этого метода был и он вышел на 11 пунктов ниже, чем был. TTT вышел 2344

Паралельно с этим методом можно было проверять другие мысли, чем я и стал заниматься

### Этап 3
Прошелся по каждой клинике - попытался сдвиуть на N в сторону - пересчитал метрики - получил результат

Если результат не устраивает, то N = N/2

Все просто!
В итоге получил небольшое улучшение по Главной метрике ТТТ

### Итоги
У меня получились такие метрики:
TTT - 
CO - 0
LCS - 42.38

Все файлы работы прикреплены!
